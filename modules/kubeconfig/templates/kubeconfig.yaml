# Autogenerated kubeconfig
---
apiVersion: v1
kind: Config
current-context: ${context_name}
preferences: {}
clusters:
  - name: ${cluster_name}
    cluster:
      certificate-authority-data: ${ca_cert}
      server: ${endpoint}
%{ if coalesce(proxy_url, "unspecified") != "unspecified" ~}
      proxy-url: ${proxy_url}
%{ endif ~}
contexts:
  - name: ${context_name}
    context:
      cluster: ${cluster_name}
      user: ${user_name}
users:
  - name: ${user_name}
    user:
%{ if coalesce(user_token, "unspecified") != "unspecified" ~}
      token: ${user_token}
%{ else ~}
      exec:
        apiVersion: client.authentication.k8s.io/v1beta1
        command: gke-gcloud-auth-plugin
        provideClusterInfo: true
        installHint: Install gke-gcloud-auth-plugin to use this authenticator
%{ endif ~}
